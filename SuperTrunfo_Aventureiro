// Desafio Super Trunfo - Países - Nível Aventureiro
// Autor: Beatriz Cardoso Cunha
// Objetivo: Cadastrar duas cartas e compará-las por atributos escolhidos via menu interativo

#include <stdio.h>
#include <string.h>

// Estrutura de uma carta
struct Carta {
    char estado[20];
    char codigo[10];
    char cidade[50];
    int populacao;
    float area;
    float pib;
    int pontos_turisticos;
};
// usado para trocar função fscan por fgets e limpar cache antes
void limparBuffer() {
    int c;
    while ((c = getchar()) != '\n' && c != EOF);
}

int main() {
    struct Carta c1, c2;

    // Cadastro da primeira carta
    printf("Cadastro da primeira carta:\n");
    printf("Estado (ex: SP): "); fgets(c1.estado, sizeof(c1.estado), stdin); c1.estado[strcspn(c1.estado, "\n")] = '\0';
    printf("Código da carta: "); fgets(c1.codigo, sizeof(c1.codigo), stdin); c1.codigo[strcspn(c1.codigo, "\n")] = '\0';
    printf("Cidade: "); fgets(c1.cidade, sizeof(c1.cidade), stdin); c1.cidade[strcspn(c1.cidade, "\n")] = '\0';
    printf("População: "); scanf("%d", &c1.populacao);
    printf("Área (km2): "); scanf("%f", &c1.area);
    printf("PIB (em bilhões): "); scanf("%f", &c1.pib);
    printf("Nº de pontos turísticos: "); scanf("%d", &c1.pontos_turisticos);
    limparBuffer();

    // Cadastro da segunda carta
    printf("\nCadastro da segunda carta:\n");
    printf("Estado (ex: RJ): "); fgets(c2.estado, sizeof(c2.estado), stdin); c2.estado[strcspn(c2.estado, "\n")] = '\0';
    printf("Código da carta: "); fgets(c2.codigo, sizeof(c2.codigo), stdin); c2.codigo[strcspn(c2.codigo, "\n")] = '\0';
    printf("Cidade: "); fgets(c2.cidade, sizeof(c2.cidade), stdin); c2.cidade[strcspn(c2.cidade, "\n")] = '\0';
    printf("População: "); scanf("%d", &c2.populacao);
    printf("Área (km2): "); scanf("%f", &c2.area);
    printf("PIB (em bilhões): "); scanf("%f", &c2.pib);
    printf("Nº de pontos turísticos: "); scanf("%d", &c2.pontos_turisticos);

    int opcao;
    printf("\nEscolha o atributo para comparação:\n");
    printf("1 - População\n");
    printf("2 - Área\n");
    printf("3 - PIB\n");
    printf("4 - Pontos Turísticos\n");
    printf("Opção: ");
    scanf("%d", &opcao);

    printf("\nComparando as cartas:\n");
    switch(opcao) {
        case 1:
            if (c1.populacao > c2.populacao)
                printf("%s venceu com maior população: %d\n", c1.cidade, c1.populacao);
            else if (c2.populacao > c1.populacao)
                printf("%s venceu com maior população: %d\n", c2.cidade, c2.populacao);
            else
                printf("Empate em população.\n");
            break;
        case 2:
            if (c1.area > c2.area)
                printf("%s venceu com maior área: %.2f km²\n", c1.cidade, c1.area);
            else if (c2.area > c1.area)
                printf("%s venceu com maior área: %.2f km²\n", c2.cidade, c2.area);
            else
                printf("Empate em área.\n");
            break;
        case 3:
            if (c1.pib > c2.pib)
                printf("%s venceu com maior PIB: %.2f bilhões\n", c1.cidade, c1.pib);
            else if (c2.pib > c1.pib)
                printf("%s venceu com maior PIB: %.2f bilhões\n", c2.cidade, c2.pib);
            else
                printf("Empate em PIB.\n");
            break;
        case 4:
            if (c1.pontos_turisticos > c2.pontos_turisticos)
                printf("%s venceu com mais pontos turísticos: %d\n", c1.cidade, c1.pontos_turisticos);
            else if (c2.pontos_turisticos > c1.pontos_turisticos)
                printf("%s venceu com mais pontos turísticos: %d\n", c2.cidade, c2.pontos_turisticos);
            else
                printf("Empate em pontos turísticos.\n");
            break;
        default:
            printf("Opção inválida.\n");
    }

    return 0;
}
